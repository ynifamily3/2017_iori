function resize_canvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}function draw(){resize_canvas()
var a=ctx.createLinearGradient(0,0,0,canvas.height)
a.addColorStop(0,"rgba(255, 206, 250, 1)"),a.addColorStop(1,"rgba(204, 155, 199, 1)"),ctx.fillStyle=a,ctx.fillRect(0,0,canvas.width,canvas.height),ctx.fillStyle="rgba(255, 255, 255, "+(125e-7*intensity-.4)+")",ctx.fillRect(0,0,canvas.width,canvas.height),react_x=0,react_y=0,intensity=0,analyser.getByteFrequencyData(fbc_array)
for(var t=0;bars>t;t++){rads=2*Math.PI/bars,bar_x=center_x,bar_y=center_y,bar_height=Math.min(99999,Math.max(2.5*fbc_array[t]-200,0)),bar_width=.02*bar_height,bar_x_term=center_x+Math.cos(rads*t+rot)*(radius+bar_height),bar_y_term=center_y+Math.sin(rads*t+rot)*(radius+bar_height)
var e="rgb("+fbc_array[t]+", 255, 255)"
ctx.strokeStyle=e,ctx.lineWidth=bar_width,ctx.beginPath(),ctx.moveTo(bar_x,bar_y),ctx.lineTo(bar_x_term,bar_y_term),ctx.stroke(),react_x+=Math.cos(rads*t+rot)*(radius+bar_height),react_y+=Math.sin(rads*t+rot)*(radius+bar_height),intensity+=bar_height}center_x=canvas.width/2,center_y=canvas.height/2,window.requestAnimationFrame(draw)}var canvas,ctx,audio,context,analyser,source,fbc_array,bars=200,intensity=0,rot=0,react_x=0,react_y=0,rads=0,bar_x,bar_y,center_x,center_y,bar_height,bar_x_term,bar_y_term,radius=0,deltarad=0,shockwave=0,bar_width
window.onload=function(){canvas=document.getElementById("iori_render"),ctx=canvas.getContext("2d"),resize_canvas(),audio=new Audio("assets/Sentimental_Venus.mp3"),audio.controls=!0,audio.loop=!1,audio.autoplay=!0,context=new AudioContext,analyser=context.createAnalyser(),source=context.createMediaElementSource(audio),source.connect(analyser),analyser.connect(context.destination),fbc_array=new Uint8Array(analyser.frequencyBinCount),draw()}
